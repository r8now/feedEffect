<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Messages</title>

    <style>
      /* Styling for the navigation */
      nav {
        background-color: #f0f0f0;
        padding: 10px;
      }

      /* Styling for the navigation links */
      nav ul {
        list-style: none;
        margin: 0;
        padding: 0;
        display: flex;
        justify-content: center;
      }

      nav ul li {
        margin: 0 10px;
      }

      nav ul li a {
        text-decoration: none;
        color: #333;
      }

      /* Styling for the main section */
      main {
        padding: 20px;
      }

      /* Styling for the footer */
      footer {
        background-color: #f0f0f0;
        padding: 10px;
        text-align: center;
        position: fixed;
        bottom: 0;
        width: 100%;
      }

      #message-container {
        position: fixed;
        top: 20px;
        right: 20px;
      }

      .message {
        position: relative;
        background-color: #f0f0f0;
        border-radius: 5px;
        height: 100px;
        width: 150px;
        padding: 10px;
        margin-bottom: 10px;
        opacity: 0;
        transform: translateX(100%);
        transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
      }
    
      .message.active {
        opacity: 1;
        transform: translateX(0%);
      }

      .message.outgoing {
        transform: translateX(100%);
      }

      .message .timer {
        position: absolute;
        bottom: 0px;
        left: 0;
        right: 0;
        height: 5px;
        background-color: #ddd;
        overflow: hidden;
      }

      .message .timer .progress {
        height: 100%;
        width: 100%;
        background-color: green;
        animation: timer 3s linear;
      }

      @keyframes timer {
        100% {
          width: 100%;
        }
        0% {
          width: 0%;
        }
      }
    </style>
  </head>
  <body>
    <div id="message-container"></div>
    <nav>
      <!-- Responsive navigation links -->
      <ul>
        <li><a href="#">Home</a></li>
        <li><a href="#">About</a></li>
        <li><a href="#">Services</a></li>
        <li><a href="#">Contact</a></li>
      </ul>
    </nav>

    <main>
      <!-- Main content of the website -->
      <h1>Welcome to the Simple Website</h1>
      <p>This is the main section of the website.</p>
    </main>

    <footer>
      <!-- Footer content -->
      &copy; 2023 Simple Website. All rights reserved.
    </footer>

    <script>
      const messageContainer = document.getElementById("message-container");
      const feed = ["meddelande"];

      function createMessage() {
        const message = document.createElement("div");
        message.classList.add("message");
        message.textContent = feed;

        const timer = document.createElement("div");
        timer.classList.add("timer");
        const progress = document.createElement("div");
        progress.classList.add("progress");
        timer.appendChild(progress);
        message.appendChild(timer);
        return message;
      }

      function addMessage() {
        const message = createMessage();
        messageContainer.prepend(message);

        setTimeout(() => {
          message.classList.add("active");
        }, 100);

        setTimeout(() => {
          removeMessage(message);
        }, 3000);
      }

      function removeMessage(message) {
        message.classList.remove("active");
        message.classList.add("outgoing");
        setTimeout(() => {
          message.remove();
        }, 500);
      }

      function handleClick(event) {
        const clickedMessage = event.target.closest(".message");
        if (clickedMessage) {
          removeMessage(clickedMessage);
        } else {
          addMessage();
        }
      }
      //to remove the message when clicked
      window.addEventListener("click", handleClick);

      //to add a message when clicked
      window.addEventListener("click", () => feed.push("hello"));
    </script>
  </body>
</html>
